"use strict";(self.webpackChunkdocs_1=self.webpackChunkdocs_1||[]).push([[4827],{3905:function(e,n,a){a.d(n,{Zo:function(){return p},kt:function(){return u}});var t=a(7294);function l(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function r(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){l(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,t,l=function(e,n){if(null==e)return{};var a,t,l={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||(l[a]=e[a]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var i=t.createContext({}),c=function(e){var n=t.useContext(i),a=n;return e&&(a="function"==typeof e?e(n):r(r({},n),e)),a},p=function(e){var n=c(e.components);return t.createElement(i.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},k=t.forwardRef((function(e,n){var a=e.components,l=e.mdxType,o=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),k=c(a),u=l,m=k["".concat(i,".").concat(u)]||k[u]||d[u]||o;return a?t.createElement(m,r(r({ref:n},p),{},{components:a})):t.createElement(m,r({ref:n},p))}));function u(e,n){var a=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var o=a.length,r=new Array(o);r[0]=k;var s={};for(var i in n)hasOwnProperty.call(n,i)&&(s[i]=n[i]);s.originalType=e,s.mdxType="string"==typeof e?e:l,r[1]=s;for(var c=2;c<o;c++)r[c]=a[c];return t.createElement.apply(null,r)}return t.createElement.apply(null,a)}k.displayName="MDXCreateElement"},7665:function(e,n,a){a.r(n),a.d(n,{assets:function(){return p},contentTitle:function(){return i},default:function(){return u},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return d}});var t=a(7462),l=a(3366),o=(a(7294),a(3905)),r=["components"],s={sidebar_position:2},i="Swanky CLI",c={unversionedId:"wasm/sc-dev/tools/swanky",id:"wasm/sc-dev/tools/swanky",title:"Swanky CLI",description:'Swanky CLI aims to be a "all-in-one" tool for Wasm smart contract developers within Polkadot / Kusama ecosystem. It is based on existing tools like Cargo Contract CLI but extending with many additional features such as generating a new smart contract environment based on example projects and packaging an instant finality node (Swanky node) which can be used for shortening the contract development lifecycle loop.',source:"@site/docs/wasm/sc-dev/tools/swanky.md",sourceDirName:"wasm/sc-dev/tools",slug:"/wasm/sc-dev/tools/swanky",permalink:"/docs/wasm/sc-dev/tools/swanky",editUrl:"https://github.com/AstarNetwork/astar-docs/tree/main/docs/wasm/sc-dev/tools/swanky.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"`cargo-contract` CLI",permalink:"/docs/wasm/sc-dev/tools/cargo-contract-cli"},next:{title:"Basic Contract",permalink:"/docs/wasm/sc-dev/tutorials/basic-contract"}},p={},d=[{value:"Usage",id:"usage",level:2},{value:"Commands",id:"commands",level:2},{value:"<code>swanky call</code>",id:"swanky-call",level:3},{value:"<code>swanky compile</code>",id:"swanky-compile",level:3},{value:"<code>swanky deploy</code>",id:"swanky-deploy",level:3},{value:"<code>swanky help [command]</code>",id:"swanky-help-command",level:3},{value:"<code>swanky init [name]</code>",id:"swanky-init-name",level:3},{value:"<code>swanky node start</code>",id:"swanky-node-start",level:3},{value:"Swanky Node",id:"swanky-node",level:2},{value:"Features",id:"features",level:3},{value:"Compatible ink! version",id:"compatible-ink-version",level:3},{value:"Installation",id:"installation",level:3},{value:"Usage",id:"usage-1",level:3},{value:"Connect with Polkadot-JS Apps Front-end",id:"connect-with-polkadot-js-apps-front-end",level:3},{value:"Consensus (Manual Seal &amp; Instant Seal)",id:"consensus-manual-seal--instant-seal",level:3},{value:"Manual Seal RPC calls",id:"manual-seal-rpc-calls",level:3},{value:"Param",id:"param",level:3},{value:"Manually Finalizing Blocks",id:"manually-finalizing-blocks",level:3},{value:"More Details",id:"more-details",level:3},{value:"Documentation",id:"documentation",level:2}],k={toc:d};function u(e){var n=e.components,a=(0,l.Z)(e,r);return(0,o.kt)("wrapper",(0,t.Z)({},k,a,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"swanky-cli"},"Swanky CLI"),(0,o.kt)("p",null,'Swanky CLI aims to be a "all-in-one" tool for Wasm smart contract developers within Polkadot / Kusama ecosystem. It is based on existing tools like Cargo Contract CLI but extending with many additional features such as generating a new smart contract environment based on example projects and packaging an instant finality node (Swanky node) which can be used for shortening the contract development lifecycle loop.'),(0,o.kt)("p",null,"Below is the user documentation for Swanky CLI which is meant to be used hand-in-hand with Swanky Node."),(0,o.kt)("p",null,"For the latest version of Swanky CLI docs please checkout ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@astar-network/swanky-cli"},"Swanky CLI download page")," (soon to be available on GitHub) and ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/AstarNetwork/swanky-node"},"Swanky Node Repo GitHub"),"."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Swanky is currently in MVP phase, with soon to be announced and publicly available Beta 1 release.")),(0,o.kt)("h2",{id:"usage"},"Usage"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ npm install -g @astar-network/swanky-cli\n$ swanky COMMAND\nrunning command...\n$ swanky (--version)\n@astar-network/swanky-cli/0.0.4 darwin-x64 node-v18.2.0\n$ swanky --help [COMMAND]\nUSAGE\n  $ swanky COMMAND\n...\n")),(0,o.kt)("h2",{id:"commands"},"Commands"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@astar-network/swanky-cli#swanky-call"},(0,o.kt)("inlineCode",{parentName:"a"},"swanky call"))),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@astar-network/swanky-cli#swanky-compile"},(0,o.kt)("inlineCode",{parentName:"a"},"swanky compile"))),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@astar-network/swanky-cli#swanky-deploy"},(0,o.kt)("inlineCode",{parentName:"a"},"swanky deploy"))),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@astar-network/swanky-cli#swanky-help-command"},(0,o.kt)("inlineCode",{parentName:"a"},"swanky help [COMMAND]"))),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@astar-network/swanky-cli#swanky-init-name"},(0,o.kt)("inlineCode",{parentName:"a"},"swanky init NAME"))),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@astar-network/swanky-cli#swanky-node-start"},(0,o.kt)("inlineCode",{parentName:"a"},"swanky node start"))),(0,o.kt)("h3",{id:"swanky-call"},(0,o.kt)("inlineCode",{parentName:"h3"},"swanky call")),(0,o.kt)("p",null,"Deploy contract to a running node"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"USAGE\n  $ swanky call -m <value> [-a <value>]\n\nFLAGS\n  -a, --args=<value>\n  -m, --message=<value>  (required)\n\nDESCRIPTION\n  Deploy contract to a running node\n")),(0,o.kt)("h3",{id:"swanky-compile"},(0,o.kt)("inlineCode",{parentName:"h3"},"swanky compile")),(0,o.kt)("p",null,"Compile the smart contract(s) in your contracts directory"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"USAGE\n  $ swanky compile [-s]\n\nFLAGS\n  -s, --silent  Don't display compilation output\n\nDESCRIPTION\n  Compile the smart contract(s) in your contracts directory\n")),(0,o.kt)("h3",{id:"swanky-deploy"},(0,o.kt)("inlineCode",{parentName:"h3"},"swanky deploy")),(0,o.kt)("p",null,"Deploy contract to a running node"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"USAGE\n  $ swanky deploy -g <value> -a <value>\n\nFLAGS\n  -a, --args=<value>  (required)\n  -g, --gas=<value>   (required)\n\nDESCRIPTION\n  Deploy contract to a running node\n")),(0,o.kt)("h3",{id:"swanky-help-command"},(0,o.kt)("inlineCode",{parentName:"h3"},"swanky help [command]")),(0,o.kt)("p",null,"Display help for swanky."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"USAGE\n  $ swanky help [COMMAND] [-n]\n\nARGUMENTS\n  COMMAND  Command to show help for.\n\nFLAGS\n  -n, --nested-commands  Include all nested commands in the output.\n\nDESCRIPTION\n  Display help for swanky.\n")),(0,o.kt)("h3",{id:"swanky-init-name"},(0,o.kt)("inlineCode",{parentName:"h3"},"swanky init [name]")),(0,o.kt)("p",null,"Generate a new smart contract environment"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"USAGE\n  $ swanky init [NAME]\n\nARGUMENTS\n  NAME  directory name of new project\n\nDESCRIPTION\n  Generate a new smart contract environment\n")),(0,o.kt)("h3",{id:"swanky-node-start"},(0,o.kt)("inlineCode",{parentName:"h3"},"swanky node start")),(0,o.kt)("p",null,"Start a local node"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"USAGE\n  $ swanky node start\n\nDESCRIPTION\n  Start a local node\n")),(0,o.kt)("h2",{id:"swanky-node"},"Swanky Node"),(0,o.kt)("p",null,"Swanky node is a Substrate based blockchain configured to enable ",(0,o.kt)("inlineCode",{parentName:"p"},"pallet-contracts")," (a smart contract module) and more features to help Wasm smart contract development locally."),(0,o.kt)("h3",{id:"features"},"Features"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/paritytech/substrate/tree/master/frame/contracts"},(0,o.kt)("inlineCode",{parentName:"a"},"pallet-contracts"))," (polkadot-0.9.19) and its unstable-feature are enabled by default."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"grandpa")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"aura")," consensus were removed. Instead, ",(0,o.kt)("inlineCode",{parentName:"li"},"instant-seal")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"manual-seal")," are used. Blocks are authored (1) as soon as a transaction get in the pool (2) when ",(0,o.kt)("inlineCode",{parentName:"li"},"engine_createBlock")," RPC called. Blocks are finalized when ",(0,o.kt)("inlineCode",{parentName:"li"},"engine_finalizeBlock")," RPC called."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/AstarNetwork/astar-frame/tree/polkadot-v0.9.19/frame/dapps-staking"},(0,o.kt)("inlineCode",{parentName:"a"},"pallet-dapps-staking"))," and ",(0,o.kt)("inlineCode",{parentName:"li"},"ChainExtension")," to interact with it."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/paritytech/substrate/tree/master/frame/assets"},(0,o.kt)("inlineCode",{parentName:"a"},"pallet-assets")))),(0,o.kt)("p",null,"It is optimized to local development purpose while removing unnecessary components such as P2P. More features and pallets to interact with (Contract <-> Runtime) will be added."),(0,o.kt)("h3",{id:"compatible-ink-version"},"Compatible ink! version"),(0,o.kt)("p",null,"ink! version ",(0,o.kt)("inlineCode",{parentName:"p"},"3.0.1")," or lower is supported by ",(0,o.kt)("inlineCode",{parentName:"p"},"pallet-contract")," on the ",(0,o.kt)("inlineCode",{parentName:"p"},"polkadot-0.9.19")," branch. You may need to modify dependencies as shown below."),(0,o.kt)("h3",{id:"installation"},"Installation"),(0,o.kt)("p",null,"The easiest way is to download a binary release from ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/AstarNetwork/swanky-node/releases"},"Release Page"),". For building your own check out GitHub project for detailed instructions."),(0,o.kt)("h3",{id:"usage-1"},"Usage"),(0,o.kt)("p",null,"This command will start the single-node development chain with persistent state."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"./target/release/swanky-node\n")),(0,o.kt)("p",null,"If you want to run the node with non-persist mode, use ",(0,o.kt)("inlineCode",{parentName:"p"},"--tmp")," option."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"./target/release/swanky-node --tmp\n# or\n./target/release/swanky-node --dev\n")),(0,o.kt)("p",null,"Purge the development chain's state."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"./target/release/swanky-node purge-chain\n")),(0,o.kt)("h3",{id:"connect-with-polkadot-js-apps-front-end"},"Connect with Polkadot-JS Apps Front-end"),(0,o.kt)("p",null,"Once the swanky node is running locally, you can connect it with ","[Polkadot-JS Apps]"," front-end to interact with your chain. ",(0,o.kt)("a",{parentName:"p",href:"https://polkadot.js.org/apps/#/explorer?rpc=ws://localhost:9944"},"Click here")," connecting the Apps to your local swanky node."),(0,o.kt)("h3",{id:"consensus-manual-seal--instant-seal"},"Consensus (Manual Seal & Instant Seal)"),(0,o.kt)("p",null,"Unlike other blockchains, Swanky node adopts block authioring and finalized gadget called Manual Seal and Instant Seal, consensus which is suitable for contracts development and testing."),(0,o.kt)("p",null,"Manual seal - Blocks are authored whenever RPC called. Instant seal - Block are authored as soon as transactions get inside the pool, most often one transaction per block."),(0,o.kt)("p",null,"Swanky node enables both Manual seal and Instant seal."),(0,o.kt)("h3",{id:"manual-seal-rpc-calls"},"Manual Seal RPC calls"),(0,o.kt)("p",null,"We can tell the node to author a block by calling the ",(0,o.kt)("inlineCode",{parentName:"p"},"engine_createBlock")," RPC."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl http://localhost:9933 -H "Content-Type:application/json;charset=utf-8" -d   \'{\n     "jsonrpc":"2.0",\n      "id":1,\n      "method":"engine_createBlock",\n      "params": [true, false, null]\n    }\'\n')),(0,o.kt)("h3",{id:"param"},"Param"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Create Empty"),": ",(0,o.kt)("inlineCode",{parentName:"li"},"create_empty")," is a Boolean value indicating whether empty blocks may be created. Setting ",(0,o.kt)("inlineCode",{parentName:"li"},"create-empty")," to true does not mean that an empty block will necessarily be created. Rather it means that the engine should go ahead creating a block even if no transaction are present. If transactions are present in the queue, they will be included regardless of ",(0,o.kt)("inlineCode",{parentName:"li"},"create_empty"),"'s value.'"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Finalize"),": ",(0,o.kt)("inlineCode",{parentName:"li"},"finalize")," is a Boolean indicating whether the block (and its ancestors, recursively) should be finalized after creation."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Parent Hash"),": ",(0,o.kt)("inlineCode",{parentName:"li"},"parent_hash")," is an optional hash of a block to use as a parent. To set the parent, use the format ",(0,o.kt)("inlineCode",{parentName:"li"},'"0x0e0626477621754200486f323e3858cd5f28fcbe52c69b2581aecb622e384764"'),". To omit the parent, use ",(0,o.kt)("inlineCode",{parentName:"li"},"null"),". When the parent is omitted the block is built on the current best block. Manually specifying the parent is useful for constructing fork scenarios and demonstrating chain reorganizations.")),(0,o.kt)("h3",{id:"manually-finalizing-blocks"},"Manually Finalizing Blocks"),(0,o.kt)("p",null,"In addition to finalizing blocks while creating them, they can be finalized later by using the second provided RPC call, ",(0,o.kt)("inlineCode",{parentName:"p"},"engine_finalizeBlock"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl http://localhost:9933 -H "Content-Type:application/json;charset=utf-8" -d   \'{\n     "jsonrpc":"2.0",\n      "id":1,\n      "method":"engine_finalizeBlock",\n      "params": ["0x0e0626477621754200486f323e3858cd5f28fcbe52c69b2581aecb622e384764", null]\n    }\'\n')),(0,o.kt)("h3",{id:"more-details"},"More Details"),(0,o.kt)("p",null,"For more detailed documentation please visit the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/AstarNetwork/swanky-node"},(0,o.kt)("inlineCode",{parentName:"a"},"swanky-node")," GitHub repo"),"."),(0,o.kt)("h2",{id:"documentation"},"Documentation"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/AstarNetwork/swanky-cli"},(0,o.kt)("inlineCode",{parentName:"a"},"swanky")," CLI Github repo")," with the latest documentation"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/AstarNetwork/swanky-node"},(0,o.kt)("inlineCode",{parentName:"a"},"swanky-node")," Github repo")," with the latest documentation."))}u.isMDXComponent=!0}}]);