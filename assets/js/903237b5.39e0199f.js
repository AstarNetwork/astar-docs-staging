"use strict";(self.webpackChunkdocs_1=self.webpackChunkdocs_1||[]).push([[8695],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return h}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=c(n),h=i,m=p["".concat(l,".").concat(h)]||p[h]||d[h]||r;return n?a.createElement(m,s(s({ref:t},u),{},{components:n})):a.createElement(m,s({ref:t},u))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,s=new Array(r);s[0]=p;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:i,s[1]=o;for(var c=2;c<r;c++)s[c]=n[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},6127:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return o},metadata:function(){return c},toc:function(){return d}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),s=["components"],o={sidebar_position:1},l="Native Transactions",c={unversionedId:"xcm/building-with-xcm/native-transactions",id:"xcm/building-with-xcm/native-transactions",title:"Native Transactions",description:"Let\u2019s look into how we can transfer native relay-chain assets (DOT or KSM) to our Astar or Shiden.",source:"@site/docs/xcm/building-with-xcm/native-transactions.md",sourceDirName:"xcm/building-with-xcm",slug:"/xcm/building-with-xcm/native-transactions",permalink:"/docs/xcm/building-with-xcm/native-transactions",editUrl:"https://github.com/AstarNetwork/astar-docs/tree/main/docs/xcm/building-with-xcm/native-transactions.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Building with XCM",permalink:"/docs/xcm/building-with-xcm/"},next:{title:"Create XC20 Assets",permalink:"/docs/xcm/building-with-xcm/create-xc20-assets"}},u={},d=[{value:"Initial State",id:"initial-state",level:2}],p={toc:d};function h(e){var t=e.components,o=(0,i.Z)(e,s);return(0,r.kt)("wrapper",(0,a.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"native-transactions"},"Native Transactions"),(0,r.kt)("p",null,"Let\u2019s look into how we can transfer native relay-chain assets (DOT or KSM) to our Astar or Shiden."),(0,r.kt)("p",null,"This will be a more low-level demonstration since we\u2019ll be using the Polkadot.js portal. Standard users will interact with this via our portal where all the complexity will be hidden, so don\u2019t worry! \ud83d\ude42"),(0,r.kt)("p",null,"For this demonstration, we will use Shiden Network and ",(0,r.kt)("strong",{parentName:"p"},"KSM")," tokens."),(0,r.kt)("h2",{id:"initial-state"},"Initial State"),(0,r.kt)("p",null,"Native relay chain asset is represented on Astar or Shiden via asset Id ",(0,r.kt)("inlineCode",{parentName:"p"},"0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"340282366920938463463374607431768211455")," in decimal."),(0,r.kt)("p",null,"Initially, we have no KSM assets on Shiden."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"1",src:n(6013).Z,width:"1850",height:"361"})),(0,r.kt)("p",null,"Let\u2019s now prepare and bring some assets from Kusama over to Shiden."),(0,r.kt)("p",null,"This will be an example of VMP protocol usage or DMP to be more specific. We will make use of the ",(0,r.kt)("inlineCode",{parentName:"p"},"reserve_transfer_asset")," functionality. This consists of moving an asset on one blockchain to another blockchain via an intermediary ",(0,r.kt)("em",{parentName:"p"},"Sovereign")," account. Origin chain asset won\u2019t be destroyed, instead, the ",(0,r.kt)("em",{parentName:"p"},"Sovereign")," will hold it. The target chain will mint a wrapped asset and deposit it to the target address."),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},"Sovereign")," account ensures that the same assets cannot simultaneously be used on both chains. It also guarantees that the wrapped asset is interchangeable with the asset on the origin chain."),(0,r.kt)("p",null,"Alice wants to send some tokens to an account on Shiden Network so she prepares ",(0,r.kt)("inlineCode",{parentName:"p"},"reserve_transfer_asset")," call on the relay chain. Parameters look like this:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"XCM message to send KSM from Kusama to Shiden via reserveAssetTransfer",src:n(1843).Z,width:"1850",height:"1750"})),(0,r.kt)("p",null,"We specify:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Destination",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Using the MultiLocation notation, we describe the target chain, which is Shiden, as ",(0,r.kt)("inlineCode",{parentName:"li"},"/Parachain(2007)"),". The notation resembles filesystem paths where the relay chain is considered to be root."))),(0,r.kt)("li",{parentName:"ul"},"Beneficiary",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Once again using the ",(0,r.kt)("em",{parentName:"li"},"MultiLocation")," notation, we describe the beneficiary of the asset transfer. Take note that this is the context of the destination chain. We\u2019re transferring to an account whose address is ",(0,r.kt)("inlineCode",{parentName:"li"},"Zcvndjciib1X92KeyVBZMv4oUE99Ut1xRCA1e9xMdqXfP27")," on Shiden. But instead of specifying the Shiden address, we\u2019ll specify the account ID (or public key) associated with this address: ",(0,r.kt)("inlineCode",{parentName:"li"},"0xa2ee1f41b5bd08934f178a12e2b0169af05630a212e89d1bb644f67d2192f475")))),(0,r.kt)("li",{parentName:"ul"},"Assets being transferred",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Finally, we describe the assets being transferred. Since we\u2019re transferring native relay chain assets, we specify these are ",(0,r.kt)("strong",{parentName:"li"},"Concrete assets")," and their location is ",(0,r.kt)("strong",{parentName:"li"},"Here")," in the context of the relay chain. The asset is fungible, therefore we need to specify the amount being transferred, in this case, a total of ",(0,r.kt)("strong",{parentName:"li"},"4200000000")," tokens.")))),(0,r.kt)("p",null,"After initiating the transfer, we can observe what happens on the relay chain:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Execution of an XCM message was attempted and funds were transferred from Alice to the Sovereign account.",src:n(3237).Z,width:"831",height:"392"})),(0,r.kt)("p",null,"Execution of an XCM message was attempted and funds were transferred from Alice to the Sovereign account."),(0,r.kt)("p",null,"On the Shiden side, we can observe the following:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"4",src:n(3015).Z,width:"821",height:"740"})),(0,r.kt)("p",null,"XCM message has been received and instructions executed. As a result, an asset with Id ",(0,r.kt)("inlineCode",{parentName:"p"},"340282366920938463463374607431768211455")," has been minted, a total of ",(0,r.kt)("strong",{parentName:"p"},"4196000000")," tokens. These tokens have been deposited into the designation account."),(0,r.kt)("p",null,"Note that that received amount is less than what was originally sent. This is because ",(0,r.kt)("strong",{parentName:"p"},"4000000")," has been used to pay the transaction fee on the destination chain."),(0,r.kt)("p",null,"We\u2019ve successfully transferred assets from Kusama over to Shiden!"))}h.isMDXComponent=!0},6013:function(e,t,n){t.Z=n.p+"assets/images/1-0627703278e69db5603e7fdb6b0a2fbe.png"},1843:function(e,t,n){t.Z=n.p+"assets/images/2-383fb390428ea0d38e8a2ad1474b1146.png"},3237:function(e,t,n){t.Z=n.p+"assets/images/3-51e62eb070f9b7b4bbd497b4620cb8d5.jpeg"},3015:function(e,t,n){t.Z=n.p+"assets/images/4-2d987d4a086e7f46ca9369cea329a13d.jpeg"}}]);